<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" as="script" fetchPriority="low" href="/umi.d716dfeb.js"/><script src="https://ur.alipay.com/tracert_a369.js" async=""></script><link rel="shortcut icon" href="https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*7svFR6wkPMoAAAAAAAAAAAAADmJ7AQ/original"/><link rel="stylesheet" href="/umi.3b1d5950.css"/><script charset="utf-8">
          window.TracertCmdCache=window.TracertCmdCache||[];var t=window.Tracert||{_isRenderInit:!0,call:function(){window.TracertCmdCache.push(arguments)}},f=["call","start","config","logPv","info","err","click","expo","pageName","pageState","time","timeEnd","parse","checkExpo","stringify","report","set","before"];for(let i=0;i<f.length;i++){(function(fn){t[fn]=function(){var a=[],l=arguments.length;for (var j=0;j<l;j++) {a.push(arguments[j])}a.unshift(fn);window.TracertCmdCache.push(a)}})(f[i])}window.Tracert=t;window._to=window._to||{};
          window.Tracert.start({});
        </script><style data-type="antd-cssinjs">.anticon{display:inline-flex;align-items:center;color:inherit;font-style:normal;line-height:0;text-align:center;text-transform:none;vertical-align:-0.125em;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}.anticon >*{line-height:1;}.anticon svg{display:inline-block;}.anticon .anticon .anticon-icon{display:block;}.data-ant-cssinjs-cache-path{content:"4xz0a|ant-design-icons|anticon:1j56ncv";}</style><style data-type="antd-css-var" data-rc-order="prepend" data-rc-priority="-9999">.data-ant-cssinjs-cache-path{content:"";}</style><title data-rh="true"></title>
<link data-rh="true" rel="shortcut icon" href="https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*7svFR6wkPMoAAAAAAAAAAAAADmJ7AQ/original"/>
</head><body><noscript><b>Enable JavaScript to run this app.</b></noscript><div id="root"><!--$?--><template id="B:0"></template><div></div><!--/$--></div><script>window.__UMI_LOADER_DATA__ = {}; window.__UMI_METADATA_LOADER_DATA__ = {"headScripts":[{"src":"https://ur.alipay.com/tracert_a369.js","async":true},{"content":"\n          window.TracertCmdCache=window.TracertCmdCache||[];var t=window.Tracert||{_isRenderInit:!0,call:function(){window.TracertCmdCache.push(arguments)}},f=[\"call\",\"start\",\"config\",\"logPv\",\"info\",\"err\",\"click\",\"expo\",\"pageName\",\"pageState\",\"time\",\"timeEnd\",\"parse\",\"checkExpo\",\"stringify\",\"report\",\"set\",\"before\"];for(let i=0;i<f.length;i++){(function(fn){t[fn]=function(){var a=[],l=arguments.length;for (var j=0;j<l;j++) {a.push(arguments[j])}a.unshift(fn);window.TracertCmdCache.push(a)}})(f[i])}window.Tracert=t;window._to=window._to||{};\n          window.Tracert.start({});\n        ","charset":"utf-8"}],"styles":[],"favicons":["https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*7svFR6wkPMoAAAAAAAAAAAAADmJ7AQ/original"],"links":[],"metas":[],"scripts":[]}; window.__UMI_BUILD_ClIENT_CSS__ = '/umi.3b1d5950.css'</script><script src="/umi.d716dfeb.js" async=""></script><div hidden id="S:0"><!--$?--><template id="B:1"></template><div></div><!--/$--></div><script>$RC=function(b,c,e){c=document.getElementById(c);c.parentNode.removeChild(c);var a=document.getElementById(b);if(a){b=a.previousSibling;if(e)b.data="$!",a.setAttribute("data-dgst",e);else{e=b.parentNode;a=b.nextSibling;var f=0;do{if(a&&8===a.nodeType){var d=a.data;if("/$"===d)if(0===f)break;else f--;else"$"!==d&&"$?"!==d&&"$!"!==d||f++}d=a.nextSibling;e.removeChild(a);a=d}while(a);for(;c.firstChild;)e.insertBefore(c.firstChild,a);b.data="$"}b._reactRetry&&b._reactRetry()}};$RC("B:0","S:0")</script><div hidden id="S:1"><!--$?--><template id="B:2"></template><div></div><!--/$--></div><script>$RC("B:1","S:1")</script><div hidden id="S:2"><style data-emotion="css-global 1cfebid">.ant-btn-text{color:rgba(0, 0, 0, 0.85);border-color:transparent;background:transparent;box-shadow:none;}</style><style data-emotion="css-global 182kvmz">:root{--container-max-width:1440px;--container-padding-large:80px;--container-padding-medium:80px;--container-padding-small:32px;--primary-color:#873bf4;--toc-width:260px;--border-color-split:#f0f0f0;--text-color-secondary:rgba(0, 0, 0, 0.45);--text-color:rgba(0, 0, 0, 0.85);--font-family:AlibabaPuHuiTiRHeavy,sans-serif;}@font-face{font-family:AlibabaPuHuiTiRHeavy;src:url(../../font/Alibaba-PuHuiTi-Heavy.otf);}body{margin:0;color:rgba(0, 0, 0, 0.85);font-size:14px;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,'Noto Sans',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol','Noto Color Emoji';font-variant:tabular-nums;line-height:1.5715;background-color:#fff;font-feature-settings:'tnum';-webkit-text-decoration:none;text-decoration:none;}a{-webkit-text-decoration:none;text-decoration:none;background-color:transparent;outline:none;cursor:pointer;-webkit-transition:color 0.3s;transition:color 0.3s;-webkit-text-decoration-skip:objects;}h1 >a[aria-hidden]:first-child,h2 >a[aria-hidden]:first-child,h3 >a[aria-hidden]:first-child,h4 >a[aria-hidden]:first-child,h5 >a[aria-hidden]:first-child,h6 >a[aria-hidden]:first-child{float:left;width:20px;font-size:0;line-height:inherit;text-align:right;-webkit-padding-end:6px;padding-inline-end:6px;-webkit-margin-start:-20px;margin-inline-start:-20px;}h1 >a[aria-hidden]:first-child:hover,h2 >a[aria-hidden]:first-child:hover,h3 >a[aria-hidden]:first-child:hover,h4 >a[aria-hidden]:first-child:hover,h5 >a[aria-hidden]:first-child:hover,h6 >a[aria-hidden]:first-child:hover{border:0;}h1 >a[aria-hidden]:first-child >.icon-link::before,h2 >a[aria-hidden]:first-child >.icon-link::before,h3 >a[aria-hidden]:first-child >.icon-link::before,h4 >a[aria-hidden]:first-child >.icon-link::before,h5 >a[aria-hidden]:first-child >.icon-link::before,h6 >a[aria-hidden]:first-child >.icon-link::before{font-size:20px;content:'#';}h1:not(:hover)>a[aria-hidden]:first-child>.icon-link,h2:not(:hover)>a[aria-hidden]:first-child>.icon-link,h3:not(:hover)>a[aria-hidden]:first-child>.icon-link,h4:not(:hover)>a[aria-hidden]:first-child>.icon-link,h5:not(:hover)>a[aria-hidden]:first-child>.icon-link,h6:not(:hover)>a[aria-hidden]:first-child>.icon-link{visibility:hidden;}.Pane1,.Pane2{overflow:auto;}.Resizer{z-index:1;box-sizing:border-box;background:#000;-webkit-background-clip:padding-box;background-clip:padding-box;opacity:0.1;}.Resizer:hover{-webkit-transition:all 2s ease;transition:all 2s ease;}.Resizer.horizontal{width:100%;height:11px;margin:-5px 0;border-top:5px solid rgba(255, 255, 255, 0);border-bottom:5px solid rgba(255, 255, 255, 0);cursor:row-resize;}.Resizer.horizontal:hover{border-top:5px solid rgba(0, 0, 0, 0.5);border-bottom:5px solid rgba(0, 0, 0, 0.5);}.Resizer.vertical{width:11px;margin:0 -5px;border-right:5px solid rgba(255, 255, 255, 0);border-left:5px solid rgba(255, 255, 255, 0);cursor:col-resize;}.Resizer.vertical Pane2{border-left:1px solid #e6e6e6;}.Resizer.vertical:hover{border-right:5px solid rgba(0, 0, 0, 0.5);border-left:5px solid rgba(0, 0, 0, 0.5);}.Resizer.disabled{cursor:not-allowed;}.Resizer.disabled:hover{border-color:transparent;}.comment-link{font-size:0.8em;float:right;color:#6d7c92;-webkit-transform:scale(0.9);-moz-transform:scale(0.9);-ms-transform:scale(0.9);transform:scale(0.9);-webkit-transition:background 0.3s,color 0.3s;transition:background 0.3s,color 0.3s;}.comment-link:hover{color:#873bf4;background-color:#f8f1ff;cursor:pointer;border-radius:2px;}</style><!--$?--><template id="B:3"></template><div></div><!--/$--></div><script>$RC("B:2","S:2")</script><div hidden id="S:3"><!--$?--><template id="B:4"></template><div style="position:relative;height:100%;width:100%;min-height:200px"><div class="loading-QFzSxC-D"><div class="container"><div class="loader"><svg viewBox="0 0 80 80"><defs><linearGradient id="gradient" x1=".004%" x2="100.131%" y1="49.993%" y2="49.993%"><stop offset="0%" stop-color="#6500FF"></stop><stop offset="16%" stop-color="#6A09FF"></stop><stop offset="43%" stop-color="#7623FF"></stop><stop offset="77%" stop-color="#8A4CFF"></stop><stop offset="99%" stop-color="#996BFF"></stop></linearGradient></defs><circle id="test" cx="40" cy="40" r="32" stroke="url(#gradient)"></circle></svg></div><div class="loader triangle"><svg viewBox="0 0 86 80"><polygon points="43 8 79 72 7 72" stroke="url(#gradient)"></polygon></svg></div><div class="loader"><svg viewBox="0 0 80 80"><rect x="8" y="8" width="64" height="64" stroke="url(#gradient)"></rect></svg></div><div class="loading-text"><p>Loading...</p></div></div></div></div><!--/$--></div><script>$RC("B:3","S:3")</script><div hidden id="S:4"><div class="dumi-default-container markdown" data-type="info"><svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"></path><path d="M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"></path></svg><h4>在本章节中，主要介绍布局相关的知识，通过阅读，你可以了解到：</h4><section><ul><li>如何实现画布中图形布局</li><li>X6 中内置了哪些布局方式 :::</li></ul><p>想让画布中图形按照一定的规则进行排列，少不了布局算法。 我们在 <a href="https://github.com/antvis/layout">Layout</a> 中提供了很多布局算法，下面介绍一下 <code>X6</code> 和 <code>Layout</code> 的搭配使用。</p><h2 id="安装"><a aria-hidden="true" tabindex="-1" href="#安装"><span class="icon icon-link"></span></a>安装<button title="Post a comment" data-feedback-hash="安装" type="button" class="ant-btn ant-btn-text ant-btn-icon-only button comment-link"><span role="img" aria-label="message" class="anticon anticon-message"><svg viewBox="64 64 896 896" focusable="false" data-icon="message" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M464 512a48 48 0 1096 0 48 48 0 10-96 0zm200 0a48 48 0 1096 0 48 48 0 10-96 0zm-400 0a48 48 0 1096 0 48 48 0 10-96 0zm661.2-173.6c-22.6-53.7-55-101.9-96.3-143.3a444.35 444.35 0 00-143.3-96.3C630.6 75.7 572.2 64 512 64h-2c-60.6.3-119.3 12.3-174.5 35.9a445.35 445.35 0 00-142 96.5c-40.9 41.3-73 89.3-95.2 142.8-23 55.4-34.6 114.3-34.3 174.9A449.4 449.4 0 00112 714v152a46 46 0 0046 46h152.1A449.4 449.4 0 00510 960h2.1c59.9 0 118-11.6 172.7-34.3a444.48 444.48 0 00142.8-95.2c41.3-40.9 73.8-88.7 96.5-142 23.6-55.2 35.6-113.9 35.9-174.5.3-60.9-11.5-120-34.8-175.6zm-151.1 438C704 845.8 611 884 512 884h-1.7c-60.3-.3-120.2-15.3-173.1-43.5l-8.4-4.5H188V695.2l-4.5-8.4C155.3 633.9 140.3 574 140 513.7c-.4-99.7 37.7-193.3 107.6-263.8 69.8-70.5 163.1-109.5 262.8-109.9h1.7c50 0 98.5 9.7 144.2 28.9 44.6 18.7 84.6 45.6 119 80 34.3 34.3 61.3 74.4 80 119 19.4 46.2 29.1 95.2 28.9 145.8-.6 99.6-39.7 192.9-110.1 262.7z"></path></svg></span></button></h2><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896" focusable="false"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-shell"><div class=""><div class=""><span class="token comment"># npm</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">$ </span><span class="token function">npm</span><span class="token plain"> </span><span class="token function">install</span><span class="token plain"> @antv/layout --save</span></div></div><div class=""><div class=""><span class="token plain">
</span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token comment"># yarn</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">$ </span><span class="token function">yarn</span><span class="token plain"> </span><span class="token function">add</span><span class="token plain"> @antv/layout</span></div></div></pre></div><p>如果是直接通过 <code>script</code> 标签引入，可以使用下面两个 CDN 中的任何一个：</p><ul><li><a href="https://unpkg.com/@antv/layout/dist/layout.min.js">https://unpkg.com/@antv/layout/dist/layout.min.js</a></li><li><a href="https://cdn.jsdelivr.net/npm/@antv/layout/dist/layout.min.js">https://cdn.jsdelivr.net/npm/@antv/layout/dist/layout.min.js</a></li></ul><h2 id="使用"><a aria-hidden="true" tabindex="-1" href="#使用"><span class="icon icon-link"></span></a>使用<button title="Post a comment" data-feedback-hash="使用" type="button" class="ant-btn ant-btn-text ant-btn-icon-only button comment-link"><span role="img" aria-label="message" class="anticon anticon-message"><svg viewBox="64 64 896 896" focusable="false" data-icon="message" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M464 512a48 48 0 1096 0 48 48 0 10-96 0zm200 0a48 48 0 1096 0 48 48 0 10-96 0zm-400 0a48 48 0 1096 0 48 48 0 10-96 0zm661.2-173.6c-22.6-53.7-55-101.9-96.3-143.3a444.35 444.35 0 00-143.3-96.3C630.6 75.7 572.2 64 512 64h-2c-60.6.3-119.3 12.3-174.5 35.9a445.35 445.35 0 00-142 96.5c-40.9 41.3-73 89.3-95.2 142.8-23 55.4-34.6 114.3-34.3 174.9A449.4 449.4 0 00112 714v152a46 46 0 0046 46h152.1A449.4 449.4 0 00510 960h2.1c59.9 0 118-11.6 172.7-34.3a444.48 444.48 0 00142.8-95.2c41.3-40.9 73.8-88.7 96.5-142 23.6-55.2 35.6-113.9 35.9-174.5.3-60.9-11.5-120-34.8-175.6zm-151.1 438C704 845.8 611 884 512 884h-1.7c-60.3-.3-120.2-15.3-173.1-43.5l-8.4-4.5H188V695.2l-4.5-8.4C155.3 633.9 140.3 574 140 513.7c-.4-99.7 37.7-193.3 107.6-263.8 69.8-70.5 163.1-109.5 262.8-109.9h1.7c50 0 98.5 9.7 144.2 28.9 44.6 18.7 84.6 45.6 119 80 34.3 34.3 61.3 74.4 80 119 19.4 46.2 29.1 95.2 28.9 145.8-.6 99.6-39.7 192.9-110.1 262.7z"></path></svg></span></button></h2><p>下面是一个网格布局的简单使用：</p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896" focusable="false"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-ts"><div class=""><div class=""><span class="token keyword">import</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> Graph </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token keyword">from</span><span class="token plain"> </span><span class="token string">&#x27;@antv/x6&#x27;</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token keyword">import</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> GridLayout </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token keyword">from</span><span class="token plain"> </span><span class="token string">&#x27;@antv/layout&#x27;</span><span class="token plain"> </span><span class="token comment">// umd模式下， const { GridLayout } = window.layout</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">
</span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> graph </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">Graph</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  container</span><span class="token operator">:</span><span class="token plain"> document</span><span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#x27;container&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  width</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">600</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  height</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">400</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">
</span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> model </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  nodes</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">    </span><span class="token punctuation">{</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">      id</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;node1&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">    </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">    </span><span class="token punctuation">{</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">      id</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;node2&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">    </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  </span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  edges</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">    </span><span class="token punctuation">{</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">      source</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;node1&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">      target</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;node2&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">    </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  </span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">
</span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> gridLayout </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">GridLayout</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  type</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;grid&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  width</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">600</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  height</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">400</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  center</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token number">300</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">200</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  rows</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">4</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  cols</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">4</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">
</span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> newModel </span><span class="token operator">=</span><span class="token plain"> gridLayout</span><span class="token punctuation">.</span><span class="token function">layout</span><span class="token punctuation">(</span><span class="token plain">model</span><span class="token punctuation">)</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">
</span></div></div><div class=""><div class=""><span class="token plain">graph</span><span class="token punctuation">.</span><span class="token function">fromJSON</span><span class="token punctuation">(</span><span class="token plain">newModel</span><span class="token punctuation">)</span></div></div></pre></div><h4 id="布局流程"><a aria-hidden="true" tabindex="-1" href="#布局流程"><span class="icon icon-link"></span></a>布局流程<button title="Post a comment" data-feedback-hash="布局流程" type="button" class="ant-btn ant-btn-text ant-btn-icon-only button comment-link"><span role="img" aria-label="message" class="anticon anticon-message"><svg viewBox="64 64 896 896" focusable="false" data-icon="message" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M464 512a48 48 0 1096 0 48 48 0 10-96 0zm200 0a48 48 0 1096 0 48 48 0 10-96 0zm-400 0a48 48 0 1096 0 48 48 0 10-96 0zm661.2-173.6c-22.6-53.7-55-101.9-96.3-143.3a444.35 444.35 0 00-143.3-96.3C630.6 75.7 572.2 64 512 64h-2c-60.6.3-119.3 12.3-174.5 35.9a445.35 445.35 0 00-142 96.5c-40.9 41.3-73 89.3-95.2 142.8-23 55.4-34.6 114.3-34.3 174.9A449.4 449.4 0 00112 714v152a46 46 0 0046 46h152.1A449.4 449.4 0 00510 960h2.1c59.9 0 118-11.6 172.7-34.3a444.48 444.48 0 00142.8-95.2c41.3-40.9 73.8-88.7 96.5-142 23.6-55.2 35.6-113.9 35.9-174.5.3-60.9-11.5-120-34.8-175.6zm-151.1 438C704 845.8 611 884 512 884h-1.7c-60.3-.3-120.2-15.3-173.1-43.5l-8.4-4.5H188V695.2l-4.5-8.4C155.3 633.9 140.3 574 140 513.7c-.4-99.7 37.7-193.3 107.6-263.8 69.8-70.5 163.1-109.5 262.8-109.9h1.7c50 0 98.5 9.7 144.2 28.9 44.6 18.7 84.6 45.6 119 80 34.3 34.3 61.3 74.4 80 119 19.4 46.2 29.1 95.2 28.9 145.8-.6 99.6-39.7 192.9-110.1 262.7z"></path></svg></span></button></h4><ul><li>选定一种布局方式，比如上面的 <code>grid</code>，如果不知道使用哪种布局方式，可以在<a href="https://g6.antv.vision/zh/examples/gallery#category-%E5%8A%9B%E5%AF%BC%E5%90%91%E5%9B%BE%E5%B8%83%E5%B1%80">这里</a> 看效果图，布局配置可以参考对应的文档。</li><li>构造布局数据，其实布局所需要的数据很简单：</li></ul><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896" focusable="false"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-ts"><div class=""><div class=""><span class="token comment">// 下面是布局所需要的数据格式</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token punctuation">{</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  nodes</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">    </span><span class="token punctuation">{</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">      id</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;node1&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">      size</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">        width</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">30</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">        height</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">40</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">      </span><span class="token punctuation">}</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">    </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">    </span><span class="token punctuation">{</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">      id</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;node2&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">      size</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">        width</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">30</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">        height</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">40</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">      </span><span class="token punctuation">}</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  </span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  edges</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">    </span><span class="token punctuation">{</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">      source</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;node1&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">      target</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;node2&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  </span><span class="token punctuation">]</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token punctuation">}</span></div></div></pre></div><ul><li>执行布局方法后，布局算法会在你传入的数据基础上增加节点的 x、y 属性，拿到节点的位置后，就可以将节点移动到指定位置。</li></ul><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896" focusable="false"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-ts"><div class=""><div class=""><span class="token keyword">const</span><span class="token plain"> layoutData </span><span class="token operator">=</span><span class="token plain"> gridLayout</span><span class="token punctuation">.</span><span class="token function">layout</span><span class="token punctuation">(</span><span class="token plain">originData</span><span class="token punctuation">)</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">layoutData</span><span class="token punctuation">.</span><span class="token plain">nodes</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token plain">node</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  node</span><span class="token punctuation">.</span><span class="token plain">x </span><span class="token operator">-=</span><span class="token plain"> node</span><span class="token punctuation">.</span><span class="token plain">size</span><span class="token punctuation">.</span><span class="token plain">width </span><span class="token operator">/</span><span class="token plain"> </span><span class="token number">2</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  node</span><span class="token punctuation">.</span><span class="token plain">y </span><span class="token operator">-=</span><span class="token plain"> node</span><span class="token punctuation">.</span><span class="token plain">size</span><span class="token punctuation">.</span><span class="token plain">height </span><span class="token operator">/</span><span class="token plain"> </span><span class="token number">2</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span></div></div></pre></div><p>:::warning{title=注意：} 布局算法返回的 x、y 其实是节点的中心点坐标，在 X6 中，节点的 x、y 其实是左上角坐标，所以布局之后，我们需要做一次坐标转换。 :::</p><h2 id="常用布局"><a aria-hidden="true" tabindex="-1" href="#常用布局"><span class="icon icon-link"></span></a>常用布局<button title="Post a comment" data-feedback-hash="常用布局" type="button" class="ant-btn ant-btn-text ant-btn-icon-only button comment-link"><span role="img" aria-label="message" class="anticon anticon-message"><svg viewBox="64 64 896 896" focusable="false" data-icon="message" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M464 512a48 48 0 1096 0 48 48 0 10-96 0zm200 0a48 48 0 1096 0 48 48 0 10-96 0zm-400 0a48 48 0 1096 0 48 48 0 10-96 0zm661.2-173.6c-22.6-53.7-55-101.9-96.3-143.3a444.35 444.35 0 00-143.3-96.3C630.6 75.7 572.2 64 512 64h-2c-60.6.3-119.3 12.3-174.5 35.9a445.35 445.35 0 00-142 96.5c-40.9 41.3-73 89.3-95.2 142.8-23 55.4-34.6 114.3-34.3 174.9A449.4 449.4 0 00112 714v152a46 46 0 0046 46h152.1A449.4 449.4 0 00510 960h2.1c59.9 0 118-11.6 172.7-34.3a444.48 444.48 0 00142.8-95.2c41.3-40.9 73.8-88.7 96.5-142 23.6-55.2 35.6-113.9 35.9-174.5.3-60.9-11.5-120-34.8-175.6zm-151.1 438C704 845.8 611 884 512 884h-1.7c-60.3-.3-120.2-15.3-173.1-43.5l-8.4-4.5H188V695.2l-4.5-8.4C155.3 633.9 140.3 574 140 513.7c-.4-99.7 37.7-193.3 107.6-263.8 69.8-70.5 163.1-109.5 262.8-109.9h1.7c50 0 98.5 9.7 144.2 28.9 44.6 18.7 84.6 45.6 119 80 34.3 34.3 61.3 74.4 80 119 19.4 46.2 29.1 95.2 28.9 145.8-.6 99.6-39.7 192.9-110.1 262.7z"></path></svg></span></button></h2><h3 id="网格布局"><a aria-hidden="true" tabindex="-1" href="#网格布局"><span class="icon icon-link"></span></a>网格布局<button title="Post a comment" data-feedback-hash="网格布局" type="button" class="ant-btn ant-btn-text ant-btn-icon-only button comment-link"><span role="img" aria-label="message" class="anticon anticon-message"><svg viewBox="64 64 896 896" focusable="false" data-icon="message" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M464 512a48 48 0 1096 0 48 48 0 10-96 0zm200 0a48 48 0 1096 0 48 48 0 10-96 0zm-400 0a48 48 0 1096 0 48 48 0 10-96 0zm661.2-173.6c-22.6-53.7-55-101.9-96.3-143.3a444.35 444.35 0 00-143.3-96.3C630.6 75.7 572.2 64 512 64h-2c-60.6.3-119.3 12.3-174.5 35.9a445.35 445.35 0 00-142 96.5c-40.9 41.3-73 89.3-95.2 142.8-23 55.4-34.6 114.3-34.3 174.9A449.4 449.4 0 00112 714v152a46 46 0 0046 46h152.1A449.4 449.4 0 00510 960h2.1c59.9 0 118-11.6 172.7-34.3a444.48 444.48 0 00142.8-95.2c41.3-40.9 73.8-88.7 96.5-142 23.6-55.2 35.6-113.9 35.9-174.5.3-60.9-11.5-120-34.8-175.6zm-151.1 438C704 845.8 611 884 512 884h-1.7c-60.3-.3-120.2-15.3-173.1-43.5l-8.4-4.5H188V695.2l-4.5-8.4C155.3 633.9 140.3 574 140 513.7c-.4-99.7 37.7-193.3 107.6-263.8 69.8-70.5 163.1-109.5 262.8-109.9h1.7c50 0 98.5 9.7 144.2 28.9 44.6 18.7 84.6 45.6 119 80 34.3 34.3 61.3 74.4 80 119 19.4 46.2 29.1 95.2 28.9 145.8-.6 99.6-39.7 192.9-110.1 262.7z"></path></svg></span></button></h3><p>网格布局根据参数指定的排序方式对节点进行排序后，将节点排列在网格上。</p><iframe src="/demos/tutorial/advanced/layout/grid"></iframe><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896" focusable="false"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-ts"><div class=""><div class=""><span class="token keyword">import</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> GridLayout </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token keyword">from</span><span class="token plain"> </span><span class="token string">&#x27;@antv/layout&#x27;</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">
</span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> gridLayout </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">GridLayout</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  type</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;grid&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  width</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">600</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  height</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">400</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  center</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token number">300</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">200</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  rows</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">4</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  cols</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">4</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span></div></div></pre></div><p>支持以下配置：</p><div class="dumi-default-table"><div class="dumi-default-table-content"><table><thead><tr><th>名称</th><th>类型</th><th align="center">必选</th><th>默认值</th><th>描述</th></tr></thead><tbody><tr><td>type</td><td>string</td><td align="center"><code>true</code></td><td><code>grid</code></td><td>布局类型</td></tr><tr><td>begin</td><td>[number, number]</td><td align="center"><code>false</code></td><td>[0, 0]</td><td>网格开始位置（左上角</td></tr><tr><td>width</td><td>number</td><td align="center"><code>false</code></td><td>-</td><td>布局区域宽度</td></tr><tr><td>height</td><td>number</td><td align="center"><code>false</code></td><td>-</td><td>布局区域高度</td></tr><tr><td>center</td><td>[number, number]</td><td align="center"><code>false</code></td><td>-</td><td>布局中心点</td></tr><tr><td>preventOverlap</td><td>boolean</td><td align="center"><code>false</code></td><td><code>false</code></td><td>是否防止重叠</td></tr><tr><td>preventOverlapPadding</td><td>number</td><td align="center"><code>false</code></td><td>10</td><td>防止叠时节点的间距 <code>padding</code>。<code>preventOverlap</code> 为 <code>true</code> 时生效</td></tr><tr><td>rows</td><td>number</td><td align="center"><code>false</code></td><td>-</td><td>网格的行数，不设置时算法根据节点数量、布局空间、<code>cols</code>（若指定）自动计算</td></tr><tr><td>cols</td><td>number</td><td align="center"><code>false</code></td><td>-</td><td>网格的列数，不设置时算法根据节点数量、布局空间、<code>rows</code>（若指定）自动计算</td></tr><tr><td>condense</td><td>boolean</td><td align="center"><code>false</code></td><td><code>false</code></td><td>为 <code>false</code> 时表示利用所有可用画布空间，为 <code>true</code> 时表示利用最小的画布空间</td></tr><tr><td>sortBy</td><td>string</td><td align="center"><code>false</code></td><td>-</td><td>指定排序的依据（节点属性名），数值越高则该节点被放置得越中心。若不设置，则会计算节点的度数，度数越高，节点将被放置得越中心</td></tr><tr><td>nodeSize</td><td>number | number[]</td><td align="center"><code>false</code></td><td>30</td><td>统一设置节点的尺寸</td></tr></tbody></table></div></div><h3 id="环形布局"><a aria-hidden="true" tabindex="-1" href="#环形布局"><span class="icon icon-link"></span></a>环形布局<button title="Post a comment" data-feedback-hash="环形布局" type="button" class="ant-btn ant-btn-text ant-btn-icon-only button comment-link"><span role="img" aria-label="message" class="anticon anticon-message"><svg viewBox="64 64 896 896" focusable="false" data-icon="message" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M464 512a48 48 0 1096 0 48 48 0 10-96 0zm200 0a48 48 0 1096 0 48 48 0 10-96 0zm-400 0a48 48 0 1096 0 48 48 0 10-96 0zm661.2-173.6c-22.6-53.7-55-101.9-96.3-143.3a444.35 444.35 0 00-143.3-96.3C630.6 75.7 572.2 64 512 64h-2c-60.6.3-119.3 12.3-174.5 35.9a445.35 445.35 0 00-142 96.5c-40.9 41.3-73 89.3-95.2 142.8-23 55.4-34.6 114.3-34.3 174.9A449.4 449.4 0 00112 714v152a46 46 0 0046 46h152.1A449.4 449.4 0 00510 960h2.1c59.9 0 118-11.6 172.7-34.3a444.48 444.48 0 00142.8-95.2c41.3-40.9 73.8-88.7 96.5-142 23.6-55.2 35.6-113.9 35.9-174.5.3-60.9-11.5-120-34.8-175.6zm-151.1 438C704 845.8 611 884 512 884h-1.7c-60.3-.3-120.2-15.3-173.1-43.5l-8.4-4.5H188V695.2l-4.5-8.4C155.3 633.9 140.3 574 140 513.7c-.4-99.7 37.7-193.3 107.6-263.8 69.8-70.5 163.1-109.5 262.8-109.9h1.7c50 0 98.5 9.7 144.2 28.9 44.6 18.7 84.6 45.6 119 80 34.3 34.3 61.3 74.4 80 119 19.4 46.2 29.1 95.2 28.9 145.8-.6 99.6-39.7 192.9-110.1 262.7z"></path></svg></span></button></h3><p>布局将所有节点布局在一个圆环上，可以选择节点在圆环上的排列顺序。可以通过参数的配置扩展出环的分组布局、螺旋形布局等</p><iframe src="/demos/tutorial/advanced/layout/circular"></iframe><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896" focusable="false"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-ts"><div class=""><div class=""><span class="token keyword">import</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> CircularLayout </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token keyword">from</span><span class="token plain"> </span><span class="token string">&#x27;@antv/layout&#x27;</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">
</span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> circularLayout </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">CircularLayout</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  type</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;circular&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  width</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">600</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  height</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">400</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  center</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token number">300</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">200</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  radius</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">50</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span></div></div></pre></div><p>支持以下配置：</p><div class="dumi-default-table"><div class="dumi-default-table-content"><table><thead><tr><th>名称</th><th>类型</th><th align="center">必选</th><th>默认值</th><th>描述</th></tr></thead><tbody><tr><td>type</td><td>string</td><td align="center"><code>true</code></td><td><code>circular</code></td><td>布局类型</td></tr><tr><td>width</td><td>number</td><td align="center"><code>false</code></td><td>-</td><td>布局区域宽度</td></tr><tr><td>height</td><td>number</td><td align="center"><code>false</code></td><td>-</td><td>布局区域高度</td></tr><tr><td>center</td><td>[number, number]</td><td align="center"><code>false</code></td><td>-</td><td>布局中心点</td></tr><tr><td>radius</td><td>number</td><td align="center"><code>false</code></td><td><code>null</code></td><td>圆的半径。若设置了 <code>radius</code>，则 <code>startRadius</code> 与 <code>endRadius</code> 不生效</td></tr><tr><td>startRadius</td><td>number</td><td align="center"><code>false</code></td><td><code>null</code></td><td>螺旋状布局的起始半径</td></tr><tr><td>endRadius</td><td>number</td><td align="center"><code>false</code></td><td><code>null</code></td><td>螺旋状布局的结束半径</td></tr><tr><td>clockwise</td><td>boolean</td><td align="center"><code>false</code></td><td><code>true</code></td><td>是否顺时针排列</td></tr><tr><td>divisions</td><td>number</td><td align="center"><code>false</code></td><td>1</td><td>节点在环上的分段数（几个段将均匀分布），在 <code>endRadius - startRadius != 0</code> 时生效</td></tr><tr><td>ordering</td><td>string</td><td align="center"><code>false</code></td><td><code>null</code></td><td>节点在环上排序的依据。默认 <code>null</code> 代表直接使用数据中的顺序。<code>topology</code> 按照拓扑排序。<code>degree</code> 按照度数大小排序</td></tr><tr><td>angleRatio</td><td>number</td><td align="center"><code>false</code></td><td>1</td><td>从第一个节点到最后节点之间相隔多少个 <code>2*PI</code></td></tr></tbody></table></div></div><h3 id="dagre"><a aria-hidden="true" tabindex="-1" href="#dagre"><span class="icon icon-link"></span></a>Dagre<button title="Post a comment" data-feedback-hash="Dagre" type="button" class="ant-btn ant-btn-text ant-btn-icon-only button comment-link"><span role="img" aria-label="message" class="anticon anticon-message"><svg viewBox="64 64 896 896" focusable="false" data-icon="message" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M464 512a48 48 0 1096 0 48 48 0 10-96 0zm200 0a48 48 0 1096 0 48 48 0 10-96 0zm-400 0a48 48 0 1096 0 48 48 0 10-96 0zm661.2-173.6c-22.6-53.7-55-101.9-96.3-143.3a444.35 444.35 0 00-143.3-96.3C630.6 75.7 572.2 64 512 64h-2c-60.6.3-119.3 12.3-174.5 35.9a445.35 445.35 0 00-142 96.5c-40.9 41.3-73 89.3-95.2 142.8-23 55.4-34.6 114.3-34.3 174.9A449.4 449.4 0 00112 714v152a46 46 0 0046 46h152.1A449.4 449.4 0 00510 960h2.1c59.9 0 118-11.6 172.7-34.3a444.48 444.48 0 00142.8-95.2c41.3-40.9 73.8-88.7 96.5-142 23.6-55.2 35.6-113.9 35.9-174.5.3-60.9-11.5-120-34.8-175.6zm-151.1 438C704 845.8 611 884 512 884h-1.7c-60.3-.3-120.2-15.3-173.1-43.5l-8.4-4.5H188V695.2l-4.5-8.4C155.3 633.9 140.3 574 140 513.7c-.4-99.7 37.7-193.3 107.6-263.8 69.8-70.5 163.1-109.5 262.8-109.9h1.7c50 0 98.5 9.7 144.2 28.9 44.6 18.7 84.6 45.6 119 80 34.3 34.3 61.3 74.4 80 119 19.4 46.2 29.1 95.2 28.9 145.8-.6 99.6-39.7 192.9-110.1 262.7z"></path></svg></span></button></h3><p>Dagre 是一种层次布局。</p><iframe src="/demos/tutorial/advanced/layout/dagre"></iframe><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896" focusable="false"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-ts"><div class=""><div class=""><span class="token keyword">import</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> DagreLayout </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token keyword">from</span><span class="token plain"> </span><span class="token string">&#x27;@antv/layout&#x27;</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">
</span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> dagreLayout </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">DagreLayout</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  type</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;dagre&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  rankdir</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;LR&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  align</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;UL&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  ranksep</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">30</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  nodesep</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">15</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  controlPoints</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span></div></div></pre></div><p>支持以下配置：</p><div class="dumi-default-table"><div class="dumi-default-table-content"><table><thead><tr><th>名称</th><th>类型</th><th align="center">必选</th><th>默认值</th><th>描述</th></tr></thead><tbody><tr><td>type</td><td>string</td><td align="center"><code>true</code></td><td><code>dagre</code></td><td>布局类型</td></tr><tr><td>begin</td><td>[number, number]</td><td align="center"><code>false</code></td><td>-</td><td>布局左上角对齐位置</td></tr><tr><td>rankdir</td><td>&#x27;TB&#x27; | &#x27;BT&#x27; | &#x27;LR&#x27; | &#x27;RL&#x27;</td><td align="center"><code>false</code></td><td><code>TB</code></td><td>布局的方向。T：top（上）；B：bottom（下）；L：left（左）；R：right（右）</td></tr><tr><td>align</td><td>&#x27;UL&#x27; | &#x27;UR&#x27; | &#x27;DL&#x27; | &#x27;DR&#x27; | undefined</td><td align="center"><code>false</code></td><td>-</td><td>节点对齐方式。U：upper（上）；D：down（下）；L：left（左）；R：right（右）；undefined (居中)</td></tr><tr><td>nodesep</td><td>number</td><td align="center"><code>false</code></td><td>50</td><td>节点间距（px）。在 <code>rankdir</code> 为 <code>TB</code> 或 <code>BT</code> 时是节点的水平间距；在 <code>rankdir</code> 为 <code>LR</code> 或 <code>RL</code> 时代表节点的竖直方向间距</td></tr><tr><td>ranksep</td><td>number</td><td align="center"><code>false</code></td><td>50</td><td>层间距（px）。在 <code>rankdir</code> 为 <code>TB</code> 或 <code>BT</code> 时是竖直方向相邻层间距；在 <code>rankdir</code> 为 <code>LR</code> 或 <code>RL</code> 时代表水平方向相邻层间距</td></tr><tr><td>nodesepFunc</td><td>function</td><td align="center"><code>false</code></td><td>-</td><td>节点间距（px）的回调函数，通过该参数可以对不同节点设置不同的节点间距。</td></tr><tr><td>ranksepFunc</td><td>function</td><td align="center"><code>false</code></td><td>-</td><td>层间距（px）的回调函数，通过该参数可以对不同节点设置不同的层间距。</td></tr><tr><td>controlPoints</td><td>boolean</td><td align="center"><code>false</code></td><td><code>true</code></td><td>是否保留布局连线的控制点</td></tr></tbody></table></div></div></section></div></div><script>$RC("B:4","S:4")</script></body></html>