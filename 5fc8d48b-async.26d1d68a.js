(("undefined"!=typeof globalThis?globalThis:self)["makoChunk_@antv/x6-sites"]=("undefined"!=typeof globalThis?globalThis:self)["makoChunk_@antv/x6-sites"]||[]).push([["5fc8d48b"],{"5fc8d48b":function(t,e,n){"use strict";n.d(e,"__esModule",{value:!0}),n.d(e,"default",{enumerable:!0,get:function(){return d;}});var r=n("852bbaa9")._(n("f4f730fc")),o=n("6d226156"),i=n("2bda4f60"),a=n("c7458031"),c=n("e211a510"),u=n("7653c543");function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r;}var f=i.styled.div.withConfig({displayName:"StyledWrapper",componentId:"dumi-theme-antv-c7ef__sc-vcamqv-0"})(["background-color:#fff;border-radius:12px;box-shadow:0 0.5rem 1.2rem #f0f1f2;transition:height 0.3s ease-in-out;width:262px;position:fixed;z-index:1001;padding:10px 18px;border-radius:8px;transition:top 0.3s ease-in-out,right 0.3s ease-in-out;"]),s=function(t,e){var n=null,r=1/0;return e.forEach(function(e){var o=e.getBoundingClientRect(),i=Math.sqrt(Math.pow(o.left+o.width/2-t.clientX,2)+Math.pow(o.top+o.height/2-t.clientY,2));i<r&&(r=i,n=e);}),n;},d=function(){var t,e=(0,a.useSnapshot)(c.feedbackStore),n=(0,o.useLocation)();(0,r.useEffect)(function(){var t=new MutationObserver(function(){var t=document.querySelectorAll(".comment-link");if(t&&0!==t.length){var e=function(t){var e=t.target.closest(".comment-link");(0,c.invokeSectionFeedback)(e.getAttribute("data-feedback-hash"));};return t.forEach(function(t){t.addEventListener("click",e);}),function(){t.forEach(function(t){t.removeEventListener("click",e);});};}});return t.observe(document.body,{childList:!0,subtree:!0}),function(){t.disconnect();};},[]);var i=function(t){if(Array.isArray(t))return t;}(t=(0,r.useState)({top:0,right:12}))||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,c=[],u=!0,l=!1;try{for(i=(n=n.call(t)).next;!(u=(r=i.call(n)).done)&&(c.push(r.value),2!==c.length);u=!0);}catch(t){l=!0,o=t;}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return;}finally{if(l)throw o;}}return c;}}(t,2)||function(t,e){if(t){if("string"==typeof t)return l(t,2);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(t,2);}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}(),d=i[0],h=i[1];return((0,r.useEffect)(function(){var t=function(t){var n=t.target.closest(".comment-link");if(e.section&&n){var r=CSS.escape(e.section),o=s(t,document.querySelectorAll(".comment-link[data-feedback-hash=".concat(r,"]")));o&&h({top:Math.min(Math.max(o.getBoundingClientRect().top,0),window.innerHeight-380),right:12});}};return window.addEventListener("click",t),function(){window.removeEventListener("click",t);};},[e.section]),(0,r.useEffect)(function(){(0,c.resetSectionFeedback)();},[n.pathname]),e.section)?r.default.createElement(f,{style:{top:d.top,right:d.right}},r.default.createElement(u.SectionFeedbackCommentForm,null)):null;};}}]);
//# sourceMappingURL=5fc8d48b-async.26d1d68a.js.map